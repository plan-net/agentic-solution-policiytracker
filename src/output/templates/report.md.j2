# Political Monitoring Report: {{ job_name }}

**Generated:** {{ generation_timestamp.strftime('%Y-%m-%d %H:%M:%S') }} UTC  
**Job ID:** {{ job_id }}  
**Report Version:** 1.0

---

## Executive Summary

**Documents Analyzed:** {{ summary.total_documents_analyzed }}  
**High Priority Items:** {{ summary.high_priority_count }}  
**Processing Time:** {{ "%.1f"|format(summary.processing_time_minutes) }} minutes

### Key Findings
{% if summary.key_findings %}
{% for finding in summary.key_findings %}
- {{ finding }}
{% endfor %}
{% else %}
- No significant findings identified in this analysis
{% endif %}

### Recommended Actions
{% if summary.recommended_actions %}
{% for action in summary.recommended_actions %}
{{ loop.index }}. {{ action }}
{% endfor %}
{% else %}
1. Review document selection criteria
2. Consider expanding search parameters
{% endif %}

### Confidence Overview
{% if summary.confidence_overview %}
- **High Confidence:** {{ summary.confidence_overview.get('high', 0) }} documents
- **Medium Confidence:** {{ summary.confidence_overview.get('medium', 0) }} documents  
- **Low Confidence:** {{ summary.confidence_overview.get('low', 0) }} documents
{% endif %}

---

## Priority Analysis

{% for queue in priority_queues %}
{% if queue.document_count > 0 %}
### {{ queue.priority_level.title() }} Priority ({{ queue.document_count }} items)

{% for doc in queue.documents[:10] %}
#### {{ loop.index }}. {{ doc.metadata.source }}

- **Score:** {{ "%.1f"|format(doc.master_score) }}/100
- **Confidence:** {{ doc.confidence_level.title() }}
- **Priority:** {{ doc.priority_level.title() }}
{% if doc.topic_clusters %}
- **Topics:** {{ doc.topic_clusters|join(", ") }}
{% endif %}
- **Key Insight:** {{ doc.overall_justification }}

**Scoring Breakdown:**
{% for dim_name, dim_score in doc.dimension_scores.items() %}
- *{{ dim_name.replace('_', ' ').title() }}:* {{ "%.1f"|format(dim_score.score) }}/100 ({{ dim_score.justification }})
{% endfor %}

{% if doc.dimension_scores.values()|selectattr('evidence_snippets')|first %}
**Evidence:**
{% for dim_score in doc.dimension_scores.values() %}
{% if dim_score.evidence_snippets %}
{% for snippet in dim_score.evidence_snippets[:2] %}
> {{ snippet[:200] }}{% if snippet|length > 200 %}...{% endif %}
{% endfor %}
{% endif %}
{% endfor %}
{% endif %}

---
{% endfor %}

{% if queue.document_count > 10 %}
*... and {{ queue.document_count - 10 }} more {{ queue.priority_level.lower() }} priority items. See detailed analysis for complete list.*
{% endif %}

{% endif %}
{% endfor %}

---

## Topic Clusters

{% if topic_clusters %}
{% for cluster in topic_clusters %}
### 📁 {{ cluster.topic_name }} ({{ cluster.document_count }} documents)

**Average Score:** {{ "%.1f"|format(cluster.average_score) }}/100  
**Description:** {{ cluster.topic_description }}

{% if cluster.key_themes %}
**Key Themes:** {{ cluster.key_themes|join(", ") }}
{% endif %}

**Top Documents:**
{% for doc in cluster.documents[:5] %}
{{ loop.index }}. **{{ doc.metadata.source }}** - Score: {{ "%.1f"|format(doc.master_score) }} ({{ doc.confidence_level }})
   - {{ doc.overall_justification }}
{% endfor %}

{% if cluster.document_count > 5 %}
*... and {{ cluster.document_count - 5 }} more documents in this cluster*
{% endif %}

---
{% endfor %}
{% else %}
*No topic clusters identified. This may indicate diverse content or insufficient clustering data.*
{% endif %}

---

## Detailed Analysis

### Score Distribution
{% if all_results %}
- **Total Documents:** {{ all_results|length }}
- **Average Score:** {{ "%.1f"|format(all_results|map(attribute='master_score')|sum / all_results|length) }}
- **Highest Score:** {{ "%.1f"|format(all_results|map(attribute='master_score')|max) }}
- **Lowest Score:** {{ "%.1f"|format(all_results|map(attribute='master_score')|min) }}

| Priority Level | Count | Percentage |
|---|---|---|
{% set ns = namespace(total=all_results|length) %}
{% for queue in priority_queues %}
{% if queue.document_count > 0 %}
| {{ queue.priority_level.title() }} | {{ queue.document_count }} | {{ "%.1f"|format(queue.document_count / ns.total * 100) }}% |
{% endif %}
{% endfor %}

### Confidence Analysis
{% set high_conf = all_results|selectattr('confidence_level', 'equalto', 'high')|list|length %}
{% set med_conf = all_results|selectattr('confidence_level', 'equalto', 'medium')|list|length %}
{% set low_conf = all_results|selectattr('confidence_level', 'equalto', 'low')|list|length %}

| Confidence Level | Count | Percentage |
|---|---|---|
| High | {{ high_conf }} | {{ "%.1f"|format(high_conf / ns.total * 100) }}% |
| Medium | {{ med_conf }} | {{ "%.1f"|format(med_conf / ns.total * 100) }}% |
| Low | {{ low_conf }} | {{ "%.1f"|format(low_conf / ns.total * 100) }}% |

{% endif %}

---

## Performance Metrics

- **Total Processing Time:** {{ "%.2f"|format(performance_metrics.get('total_time_seconds', 0)) }} seconds
- **Average per Document:** {{ "%.2f"|format(performance_metrics.get('avg_time_per_doc_ms', 0)) }} ms
- **Documents Processed Successfully:** {{ all_results|length }}
- **Documents Failed:** {{ failed_documents|length }}

{% if failed_documents %}
### Failed Documents
{% for failed_doc in failed_documents %}
- **{{ failed_doc.file_path }}**: {{ failed_doc.error }} ({{ failed_doc.timestamp }})
{% endfor %}
{% endif %}

---

## Configuration Used

- **Input Folder:** `{{ parameters_used.input_folder }}`
- **Context File:** `{{ context_file_used }}`
- **Priority Threshold:** {{ parameters_used.priority_threshold }}
- **Include Low Confidence:** {{ parameters_used.include_low_confidence }}
- **Clustering Enabled:** {{ parameters_used.clustering_enabled }}

---

## Methodology

This analysis used a 5-dimensional scoring model:

1. **Direct Impact (40% weight):** Company mentions and regulatory requirements
2. **Industry Relevance (25% weight):** Core and adjacent industry alignment  
3. **Geographic Relevance (15% weight):** Primary and secondary market coverage
4. **Temporal Urgency (10% weight):** Time-sensitive indicators and deadlines
5. **Strategic Alignment (10% weight):** Strategic theme and keyword matching

**Confidence Scoring:** Based on text length, keyword density, score variance, and evidence quality.

**Priority Classification:**
- Critical: ≥90 points
- High: 75-89 points  
- Medium: 50-74 points
- Low: 25-49 points
- Informational: <25 points

---

*This report was generated automatically by the Political Monitoring Agent. For questions or feedback, please contact the Public Affairs team.*

**End of Report**